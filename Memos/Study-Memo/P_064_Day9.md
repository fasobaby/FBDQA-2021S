金融大数据与量化分析 Lecture 9
课堂笔记
孙泽宇 北京大学1700012772 清华临时学号P20243023 课堂编号064

### 第一部分 Pyhton高性能计算库
#### 1.1 数值计算加速
使用numexpr进行大规模的表达式的计算可以获得最佳性能，其原理是对基于字符串的表达式计算一次后编译批量使用，此外可以使用numexpr.set_num_threads()可以设置使用多线程。
按照性能排序：numexpr库>numpy库>纯python实现>eval函数
#### 1.2 并行计算加速
使用multiprocessing库进行大规模并行计算。
#### 1.3 编译加速
动态编译：使用numba中的jit函数，编译部分代码。对于能够编译的代码将其转化为函数，对于不能编译的代码，将其提供给python解释器。
静态编译：使用cypthon静态类型声明，类似于C++函数调用的方式声明嵌套循环，并通过pyximport模块导入主程序。

#### 第二部分 如何获取Alpha
#### 2.1 Alpha实操框架
4个经典的资金管理模型：(1)每一固定金额交易一个单位。(2)等价值交易单位。(3)百分比风险模型。(4)百分比波动幅度模型。
对Alpha的广义定义：在交易中关于持有头寸选择和买卖实际把握的技巧。
Alpha的获取手段：金融工程模型。基于交易品种的分类有：(1)期货/债券。(2)股票/ETF。(3)期权策略。

#### 2.2 股票型Alpha策略
基本逻辑：一部分选择A股市场最好的股票构建现货投资组合，一方面做空股指期货，利用股指期货低成本高杠杆的特性对冲系统风险，以beta对冲作为主要对冲方式。该策略提供股指期货Alpha对冲交易机会，构建股票和股指期货对冲组合，适合高风险偏好、中等资金规模的投资者。
典型的Alpha策略模型的收益特点：
(1)在牛市初期，股指期货从贴水变成升水，Alpha收益的利润主要来自升水的钱。
(2)牛市中期：股指期货升水的同时IF大涨，期货端容易被打穿，需要量化投资者很强的风险管理能力。Alpha策略容易亏钱，表现不如其他策略。
(3)熊市初期：股市的波动较大，不太容易大赚或者大亏。
#### 2.3 商品期货策略
商品期货的五大板块：农产品、能源化工、基本金属、钢材焦炭焦煤、金银。
商品套利(配对)：主要赚波动回复的钱。商品套利交易的基本原理是商品市场品种间相关性，一般选择品种间联动性较强的板块。
跨品种套利：利用螺纹钢和热卷钢两个品种的钢材之间相关性很大，利用之间的价差波动套利。
跨期套利：利用不同到期日的期货合约价格差套利。
产品特性跨期套利：在进行技术分析的同时加入对基本面的判断，通过对产品生产消费周期做多价差。
#### 2.4 Alpha策略的一般研发流程
基于宏观经济数据(经济周期、经济指标、基础利率、CPI)，基于行业与公司基本面(财报模块、分析师研报模块、产业链)，基于市场交易数据(市场宏观数据、市场微观数据、流动性分析、机构结构)
基础理论→历史数据→统计分析→策略建模→追溯测试→绩效评估→纠正错误→系统测试风险管理→自动化操作
#### 2.5 获取Alpha的交易策略的逻辑
交易型策略：根据市场交易中经常出现的某种规律性现象，可以制定相应的获利策略，称为交易型策略。
常见的交易型策略类型：
(1)多空策略：假设"强者恒强，弱者恒弱"
HANS-123策略：在开盘后30分钟确定上轨和下轨准备入场，当日价格突破上轨买入开仓，价格跌穿下轨卖出开仓，突破时如有持仓则先止损再反手，收盘前无条件平仓。
(2)回归策略：假设"强弱交替，天道轮回"
ETF套利：一二级市场套利(直接输入510300在二级市场按手交易ETF，费用很低但动用的资金量很大)、二级市场轮动(沪深300对应的ETF产品有若干支，每个产品的交易价格与IPOV之间的折溢价可能有很大的差别)、期现套利(利用局部交易时投机行为的贪婪与恐惧，买入IF同时做空ETF，或者买入ETF同时做空IF)。
对冲工具的使用：股指期货、ETF期权、股指期权。
其中，需要使用对冲的套利方式是二级市场轮动套利，因为这种套利方式的净持仓不为0。