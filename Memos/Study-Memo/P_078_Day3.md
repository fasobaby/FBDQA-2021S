# Summary Day_3

## python

### Numpy

### matplotlib pyplot

### pygal

### pandas

## 创建一个量化交易策略

### 趋势跟随模型

发现趋势-顺着趋势-截断亏损,让利润跑

### 海龟交易法则

市场:买什么

头寸:买多少

入市:什么时候买

止损:什么时候放弃亏损头寸

退出:什么时候退出盈利头寸

战术:怎么买卖

#### 海龟 市场 选择跨市场 国债\商品\外汇\金属\原油等高流动性的市场

#### 头寸规模

定义波动性 N=(19*PDN+TR)/20   20天大致是一个月交易日

PDN=前一日的N值

TR=当日的真实波动幅度

真是波动幅度=Max(H-L,H-PDC,PDC-L)

H=当日最高价 L=当日最低价 PDC=前一日收盘价

头寸规模单位=账户的1%/(N*每一点数所代表的美元)

每一点数所代表的美元 即 每一最小交易单位的资金(1手股票)

头寸规模的限制:单个市场 4个;高度关联的多个市场 6个;松散关联的多个市场 10个;单个方向 12手

#### 入市信号

系统1 以20日突破为基础的短期系统

系统2 以55日突破为基础的长期系统

前复权 后复权

#### 逐步建仓

在突破点建1个单位头寸

按N/2的价格间隔逐步扩大头寸

#### 止损

任何一笔交易的风险程度不超过账户的2%(价格向下波动2N,就止损)

#### 退出

系统1 10日反向突破退出

系统2 20日反向突破退出



### 海龟交易法则

### 评估策略

夏普比率 最大回测



## 凯利公式

$$f^*=(b*p-q)/b$$

p=获胜概率(胜率) q=失败概率(败率)

b=赔率=获胜收入/失败损失

实际中:

f是波动的,不是固定值.

基于机器学期的交易策略

基于kelly公式的最有杠杆,风险分析

