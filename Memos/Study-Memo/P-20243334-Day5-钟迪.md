# 择时策略的细节完善

- 超跌因子：使得跌幅最大的因子
- 剔除ST股票是规避风险
- 再平衡周期和因子、策略、模型有关，参数很敏感
- 一定要对交易费用很敏感
- ***资金管理+风险控制****************个性化投资的关键
- 择时只是一种优化方法，在好的股票池的基础上希望能优化一下而用
- PE -> EP：使得数据连续性
- PB -> BP：数据连续性
- ![image-20210408234808413](C:\Users\松山鐘迪\AppData\Roaming\Typora\typora-user-images\image-20210408234808413.png)
- ![image-20210408235231067](C:\Users\松山鐘迪\AppData\Roaming\Typora\typora-user-images\image-20210408235231067.png)
- EP = E / P, BP = B / P
- ![image-20210411155842949](C:\Users\松山鐘迪\AppData\Roaming\Typora\typora-user-images\image-20210411155842949.png)
- 对不同的因子赋予各自的权重，最后计算综合评分
- 对于单一因子的打分可以有
  - 因子值直接打分：值多少打多少分
  - 因子值排序打分：前多少打多少分
- 可以用机器学习方法***
- ![image-20210411160511033](C:\Users\松山鐘迪\AppData\Roaming\Typora\typora-user-images\image-20210411160511033.png)

# 均值回复的简单运用

## 缺口方式

K线价格不连续导致的缺口

## 套利模式

- 两只股票之间 – 完美替代品问题
- 两组股票之间 – 测定相关性
- 2种或多种ETF之间
- ETF与一揽子股票之间
- 现货与期货之间

# 检验量化交易策略

## 定义风险

- - 下行风险
    - 低于均值的收益率样本
    - 低于某一目标收益率的样本
  - 损失概率
  - 在险价值
- 标准差用来描述风险
  - ![image-20210411161611611](C:\Users\松山鐘迪\AppData\Roaming\Typora\typora-user-images\image-20210411161611611.png)
  - 可以有描述整体风险小于部分风险之和的特点
  - 风险要分散，即部分风险也尽可能独立，才能使得整体风险尽可能小

## 两个重要评估指标

- 夏普比率，风险与收益的平衡指标
- 最大回撤，最坏情况：一段时间内收益率的最大减少幅度

## 超额收益的检验：后验ALPHA分解*

- $\sigma$: 组合风险
- 以后再讲

## 信息率：反映主动投资能力的指标

- 主动收益/主动风险。信息率意味着主动承担了相对于基准组合的风险敞口，带来
  了多少超额收益
- 更严格衡量超额收益
- ![image-20210411171919868](C:\Users\松山鐘迪\AppData\Roaming\Typora\typora-user-images\image-20210411171919868.png)
- 超配：你的组合中某股票的比例比基准的比例多多少比例
- 低配：你的组合中某股票的比例比基准的比例少多少比例
- 所以$\omega$: 残差风险，表示你主动投资，超配+低配比例导致的多少风险，主动暴露的敞口风险
- 暴露超配和暴露低配
- 信息率>0.5 合格的基金经理, > 1 绝对优秀

# 金融数据访问

## 本地访问

- pyTables: 处理数据，管理数据的包，专门效率处理HDF5数据文件格式
- HDF5数据文件由data和metadata构成

## 云端访问

- 需要一个处理数据的系统，数据系统
- 来源多，差异大，数据清洗，数据修正
- 数据仓库、数据库
- 数据分析工具
- ![image-20210331003640019](C:\Users\松山鐘迪\AppData\Roaming\Typora\typora-user-images\image-20210331003640019.png)

# 类与继承

# Python - SQLite

- 创建表
- 插入数据
- inner join - 交集
- outer join - 并集
- left join - 左集合
- right join - 右集合

# SQL

## 基本概念与术语

- 实体 - 关系
- DDL 数据定义语言
- DML 数据操作语言
- 数据类型
- 多表查询
  - join
  - inner join
  - outer join

## 关系数据模型

## 模式

## 数据独立性

# DBeaver - 金融数据库软件

- 可视化数据库表格